<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ekman Transport Visualizer</title>
    
    <!-- 파비콘 설정 (다크/라이트 모드 지원) -->
    <link rel="icon" type="image/png" href="logo/white.png" media="(prefers-color-scheme: light)">
    <link rel="icon" type="image/png" href="logo/dark.png" media="(prefers-color-scheme: dark)">
    <link rel="icon" type="image/png" href="logo/white.png">
    
    <link rel="stylesheet" href="style.css">
    
    <!-- 다크/라이트 모드 자동 전환 CSS -->
    
</head>
<body>
    <div class="title-bar">Ekman Transport Visualizer</div>
    
    <!-- 향상된 모바일 햄버거 메뉴 -->
    <button class="mobile-menu-toggle" aria-label="메뉴 열기" aria-expanded="false">
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </button>
    <div class="mobile-menu-overlay"></div>
    
    <div class="main-window">
        <!-- 메인 콘텐츠 영역 -->
        <div style="display: flex; flex: 1; min-height: 0;">
        <!-- 왼쪽 제어 패널 (Tkinter GUI와 동일한 레이아웃) -->
        <div class="control-frame mobile-menu-panel">
            <!-- 향상된 메뉴 헤더 -->
            <div class="mobile-menu-header">
                <h2 class="mobile-menu-title">⚙️ 제어판</h2>
                <button class="mobile-menu-close" aria-label="메뉴 닫기"></button>
            </div>
            
            <!-- 스와이프 진행률 표시 -->
            <div class="swipe-indicator"></div>
            
            <!-- 언어 선택 -->
            <div class="labelframe mobile-menu-item">
                <div class="labelframe-title">🌐 언어 선택</div>
                <label for="language" class="tk-label">Language:</label>
                <select id="language" class="tk-combobox">
                    <option value="en">English</option>
                    <option value="ko">한국어</option>
                    <option value="zh">中文</option>
                    <option value="ja">日本語</option>
                    <option value="es">Español</option>
                    <option value="ru">Русский</option>
                </select>
            </div>
            
            <!-- 파라미터 설정 -->
            <div class="labelframe mobile-menu-item">
                <div class="labelframe-title">🎛️ 파라미터 설정</div>
                
                <!-- 바람 속도 -->
                <div class="slider-container">
                    <label for="wind_speed" class="tk-label">🌬️ 바람 속도 (m/s):</label>
                    <input type="range" id="wind_speed" class="tk-scale" min="0" max="30" value="10" step="0.1">
                    <span class="slider-value" id="wind_speed_value">10.0</span>
                </div>
                
                <!-- 바람 방향 -->
                <div class="slider-container">
                    <label for="wind_direction" class="tk-label">🧭 바람 방향 (°):</label>
                    <input type="range" id="wind_direction" class="tk-scale" min="0" max="360" value="0" step="1">
                    <span class="slider-value" id="wind_direction_value">0</span>
                </div>
                
                <!-- 위도 -->
                <div class="slider-container">
                    <label for="latitude" class="tk-label">🌍 위도 (°):</label>
                    <input type="range" id="latitude" class="tk-scale" min="-90" max="90" value="30" step="1">
                    <span class="slider-value" id="latitude_value">30</span>
                </div>
                
                <!-- 깊이 -->
                <div class="slider-container">
                    <label for="depth" class="tk-label">🌊 깊이 (m):</label>
                    <input type="range" id="depth" class="tk-scale" min="10" max="500" value="100" step="10">
                    <span class="slider-value" id="depth_value">100</span>
                </div>
            </div>
            
            <!-- 시각화 타입 -->
            <div class="labelframe mobile-menu-item">
                <div class="labelframe-title">📊 시각화 타입</div>
                <div>
                    <input type="radio" id="vis_3d" name="vis_type" value="3d" checked class="tk-radiobutton">
                    <label for="vis_3d" class="tk-label" style="display: inline;">🔮 3D</label>
                </div>
                <div>
                    <input type="radio" id="vis_2d" name="vis_type" value="2d" class="tk-radiobutton">
                    <label for="vis_2d" class="tk-label" style="display: inline;">📈 2D</label>
                </div>
            </div>
            
            <!-- 사전 설정 -->
            <div class="labelframe mobile-menu-item">
                <div class="labelframe-title">⚡ 사전 설정</div>
                <div class="button-group">
                    <button class="tk-button touch-feedback" data-preset="normal">🌤️ 일반</button>
                    <button class="tk-button touch-feedback" data-preset="strong">💨 강풍</button>
                    <button class="tk-button touch-feedback" data-preset="typhoon">🌪️ 태풍</button>
                </div>
            </div>
            
            <!-- 지역 선택 -->
            <div class="labelframe mobile-menu-item">
                <div class="labelframe-title">🗺️ 지역 선택</div>
                <select id="location" class="tk-combobox" aria-label="지역 선택">
                    <option value="custom">🎯 사용자 설정</option>
                    <option value="los_angeles">🇺🇸 로스앤젤레스</option>
                    <option value="busan">🇰🇷 부산</option>
                    <option value="north_pacific">🌊 북태평양</option>
                    <option value="north_atlantic">🌊 북대서양</option>
                    <option value="southern_ocean">🧊 남극해</option>
                    <option value="equator">🔆 적도</option>
                </select>
            </div>
            
            <!-- 계산 버튼 -->
            <div class="button-group mobile-menu-item" style="margin: 16px 0;">
                <button id="calculate-btn" class="tk-button touch-feedback" style="width: 140px; height: 30px; font-weight: bold;">🔄 계산 및 시각화</button>
                <button id="export-btn" class="tk-button touch-feedback" style="width: 100px; height: 30px;">💾 내보내기</button>
            </div>
            
            <!-- 결과 표시 -->
            <div class="labelframe mobile-menu-item">
                <div class="labelframe-title">📋 계산 결과</div>
                <div class="results-grid">
                    <div class="result-label">💨 바람 응력:</div>
                    <div class="result-value" id="wind_stress">-</div>
                    
                    <div class="result-label">📏 에크만 깊이:</div>
                    <div class="result-value" id="ekman_depth">-</div>
                    
                    <div class="result-label">🌊 총 수송량:</div>
                    <div class="result-value" id="total_transport">-</div>
                    
                    <div class="result-label">⚡ 에너지 전달률:</div>
                    <div class="result-value" id="energy_transfer">-</div>
                </div>
            </div>
            
        </div>
        
        <!-- 오른쪽 플롯 영역 -->
        <div class="plot-frame">
            <div id="plot-area" style="width: 100%; height: 100%;">
                <div style="text-align: center; padding: 50px; color: #666;">
                    <p>계산 및 시각화 버튼을 클릭하세요</p>
                </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 솔루션 모달 -->
    <div id="solutionModal" class="solution-modal">
        <div class="solution-modal-content">
            <div class="solution-modal-header">
                <h2 class="solution-modal-title">💡 솔루션 및 사용법 가이드</h2>
                <button class="solution-modal-close">&times;</button>
            </div>
            <div class="solution-modal-body" id="solutionModalBody">
                <!-- 동적으로 내용이 로드됩니다 -->
            </div>
        </div>
    </div>
    
    <!-- 푸터 -->
    <footer class="footer">
        <div class="footer-content">
            <!-- 프로젝트 정보 -->
            <div class="footer-section">
                <h3>🌊 Ekman Transport Visualizer</h3>
                <p>해양학적 현상을 시각화하는 전문 도구입니다. 에크만 수송 이론을 기반으로 바람과 해류의 상호작용을 분석합니다.</p>
                <div class="version-info">
                    <span>📦 v4.8.1</span>
                    <span>|</span>
                    <span>🔧 Python + JavaScript</span>
                    <span>|</span>
                    <span>📊 Plotly.js</span>
                </div>
            </div>
            
            <!-- 주요 기능 -->
            <div class="footer-section">
                <h3>⚡ 주요 기능</h3>
                <ul class="footer-links">
                    <li><a href="#" data-action="preset" data-preset="normal">일반 바람 조건 시뮬레이션</a></li>
                    <li><a href="#" data-action="preset" data-preset="strong">강풍 조건 분석</a></li>
                    <li><a href="#" data-action="preset" data-preset="typhoon">태풍 조건 모델링</a></li>
                    <li><a href="#" data-action="vis" data-vis="3d">3D 시각화</a></li>
                    <li><a href="#" data-action="vis" data-vis="2d">2D 분석 차트</a></li>
                    <li><a href="#" data-action="export">결과 내보내기</a></li>
                </ul>
            </div>
            
            <!-- 기술 정보 -->
            <div class="footer-section">
                <h3>🔬 기술 정보</h3>
                <ul class="footer-links">
                    <li><a href="#" data-alert="에크만 수송: 바람 응력에 의해 발생하는 해류의 수직 구조">에크만 수송 이론</a></li>
                    <li><a href="#" data-alert="코리올리 효과: 지구 자전으로 인한 편향력">코리올리 효과</a></li>
                    <li><a href="#" data-alert="에크만 나선: 깊이에 따른 해류 방향 변화">에크만 나선</a></li>
                    <li><a href="#" data-alert="바람 응력: 바람이 해수면에 미치는 힘">바람 응력 계산</a></li>
                    <li><a href="#" data-alert="수직 난류: 깊이에 따른 물의 혼합">수직 난류 모델링</a></li>
                </ul>
            </div>
            
            <!-- 솔루션 및 사용법 -->
            <div class="footer-section">
                <h3>💡 솔루션 및 사용법</h3>
                <ul class="footer-links">
                    <li><a href="#" data-action="solution">📖 사용 방법 가이드</a></li>
                    <li><a href="#" data-action="quickstart">🚀 빠른 시작</a></li>
                    <li><a href="#" data-action="advanced">🔬 고급 사용법</a></li>
                    <li><a href="#" data-action="troubleshooting">🔧 문제 해결</a></li>
                    <li><a href="#" data-action="bestpractices">⭐ 모범 사례</a></li>
                    <li><a href="#" data-action="casestudies">📊 사례 연구</a></li>
                </ul>
            </div>
            
            <!-- 연락처 및 지원 -->
            <div class="footer-section">
                <h3>📞 연락처 및 지원</h3>
                <div class="footer-contact">
                    <div class="contact-item">
                        <i>📧</i>
                        <span><a href="mailto:pistolinkr@icloud.com">pistolinkr@icloud.com</a></span>
                    </div>
                    <div class="contact-item">
                        <i></i>
                        <span><a href="https://github.com/pistolinkr" target="_blank" rel="noopener">https://github.com/pistolinkr</a></span>
                    </div>
                    <div class="contact-item">
                        <i>📚</i>
                        <span><a href="https://www.ksocean.or.kr/community/board.asp?boardID=1" target="_blank" rel="noopener">해양학 연구 커뮤니티</a></span>
                    </div>
                    <div class="contact-item">
                        <i>🔧</i>
                        <span>기술 지원: 24/7</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 푸터 하단 -->
        <div class="footer-bottom">
            <div>
                © 2025 Pistolinkr. All rights reserved.
                <br>
                <a href="#" data-alert="MIT License - 자유로운 사용, 수정, 배포 가능">MIT License</a> | 
                <a href="#" data-alert="개인정보는 수집되지 않습니다. 모든 계산은 로컬에서 처리됩니다.">Privacy Policy</a> | 
                <a href="#" data-alert="버그 리포트나 기능 제안은 GitHub Issues를 이용해주세요.">Report Issues</a>
            </div>
        </div>
    </footer>

    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    <!-- Application JavaScript -->
    <script src="app.js"></script>
</body>
</html>